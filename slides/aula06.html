<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>Aula 06</title>

    <!-- Revealjs styles -->
    <link rel="stylesheet" href="../revealjs/dist/reset.css">
    <link rel="stylesheet" href="../revealjs/dist/reveal.css">
    <link rel="stylesheet" href="../revealjs/dist/theme/serif.css" id="theme">
    <link rel="stylesheet" href="../revealjs/plugin/highlight/monokai.css" id="highlight-theme">

    <link rel="stylesheet" href="../asciinema/asciinema-player.css">

    <link rel="stylesheet" href="python-repl/python-repl.css">

    <!-- Fonts -->
    <link rel='stylesheet' href='fonts/definitions.css'>

    <!-- Local styles -->
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/ace-brython-customization.css">
    <link rel="stylesheet" href="css/python-repl-customization.css">
    <link rel="stylesheet" href="css/highlightjs-customization.css">
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section data-markdown>
            # Python 101
            ## Aula 06
        </section>



        <section>
          <h3>M√≥dulos</h3>
        </section>



        <section data-auto-animate>
          <p>
            O que √© um m√≥dulo?
          </p>
        </section>



        <section data-auto-animate>
          <p style='opacity: .5'>
            O que √© um m√≥dulo?
          </p>
          <div style='text-align: left; margin-top: 1em;'>
            <p>
              De forma geral, um <strong>m√≥dulo</strong> √© um arquivo:
            </p>
            <ul>
              <li class='fragment'>
                que possui c√≥digo Python
              </li>
              <li class='fragment'>
                e que pode ser utilizado (<strong>importado</strong>) em outros
                programas ou m√≥dulos
              </li>
            </ul>
          </div>
        </section>



        <section data-auto-animate>
          <h4>
            Principais motiva√ß√µes para criarmos m√≥dulos:
          </h4>
        </section>



        <section data-auto-animate>
          <h4>
            Principais motiva√ß√µes para criarmos m√≥dulos:
          </h4>
          <p style='margin-top: 1em;'>
            <strong>Deixar o c√≥digo mais organizado</strong>
            <br/>
            Cada m√≥dulo mantendo funcionalidades relacionadas a um t√≥pico
            espec√≠fico
          </p>
        </section>



        <section data-auto-animate>
          <h4>
            Principais motiva√ß√µes para criarmos m√≥dulos:
          </h4>
          <p style='margin-top: 1em;'>
            <strong>Reuso de c√≥digo</strong>
            <br/>
            Um m√≥dulo pode ser importado por uma variedade de diferentes
            programas (ou outros m√≥dulos) que dependem de uma funcionalidade
            comum provida pelo m√≥dulo
          </p>
        </section>



        <section data-auto-animate>
          <div style='font-size: .8em'>
            <p>
              Diversos m√≥dulos j√° s√£o providos por padr√£o em uma instala√ß√£o comum
              de Python:
            </p>
            <div
              style='
                display: grid;
                grid-template-columns: max-content auto;
                justify-items: left;
                align-items: baseline;
                gap: .2ex 1ex;
                text-align: left;
              '
            >
              <code style='justify-self: end;'>collections</code>
              <div>
                Outros tipos de cole√ß√µes al√©m das que j√° conhecemos
              </div>

              <code style='justify-self: end;'>csv</code>
              <div>
                Leitura e escrita no formato CSV
              </div>

              <code style='justify-self: end;'>datatime</code>
              <div>
                Manipula√ß√£o de data e hora
              </div>

              <code style='justify-self: end;'>json</code>
              <div>
                Leitura e escrita no formato JSON
              </div>

              <code style='justify-self: end;'>math</code>
              <div>
                Fun√ß√µes matem√°ticas
              </div>

              <code style='justify-self: end;'>os</code>
              <div>
                Interface com o sistema operacional
              </div>

              <code style='justify-self: end;'>pathlib</code>
              <div>
                Manipula√ß√£o de caminhos e arquivos
              </div>

              <code style='justify-self: end;'>random</code>
              <div>
                Gera√ß√£o de n√∫meros pseudo-aleat√≥rios
              </div>

              <code style='justify-self: end;'>re</code>
              <div>
                Processamento de strings com express√µes regulares!
              </div>
            </div>
            <p>
              Lista completa em
              <a
                href='https://docs.python.org/3/py-modindex.html'
                target='_blank'
              >
                https://docs.python.org/3/py-modindex.html
              </a>
            </p>
          </div>
        </section>



        <section data-auto-animate>
          <p style='font-size: .8em;'>
            Diversos m√≥dulos j√° s√£o providos por padr√£o em uma instala√ß√£o comum
            de Python:
          </p>

          <br/>
          <p>
            Esses m√≥dulos pertencem ao que chamamos de
            <strong>biblioteca padr√£o</strong> da linguagem Python
          </p>
          <br/>

          <p style='font-size: .8em;'>
            Documenta√ß√£o dispon√≠vel em
            <a
              href='https://docs.python.org/3/library/index.html'
              target='_blank'
            >
              https://docs.python.org/3/library/index.html
            </a>
          </p>
        </section>



        <section data-auto-animate>
          <h4>Exemplo: utilizando o m√≥dulo <code>math</code></h4>
        </section>



        <section data-auto-animate>
          <h4>Exemplo: utilizando o m√≥dulo <code>math</code></h4>

          <div style='font-size: .9em;'>
            <p>
              Utilizamos <code>import</code> para importar o m√≥dulo em nosso
              c√≥digo:
            </p>

            <div class='ace-brython'>
              <script type='text/x.ace-brython'>
                import math
              </script>
            </div>
          </div>
        </section>



        <section data-auto-animate>
          <h4>Exemplo: utilizando o m√≥dulo <code>math</code></h4>

          <div style='font-size: .9em;'>
            <p>
              Os objetos definidos pelo m√≥dulo podem ser acessados atrav√©s do
              operador de acesso de atributo (<code>.</code>):
            </p>

            <div class='ace-brython'>
              <script type='text/x.ace-brython'>
                import math

                angulo = math.pi / 6 # Isto √©, 30¬∞

                seno = math.sin(angulo)

                print(f'O seno de {angulo} √© {seno}')
              </script>
            </div>
          </div>
        </section>



        <section data-auto-animate>
          <h4>Exemplo: utilizando o m√≥dulo <code>math</code></h4>

          <div style='font-size: .9em;'>
            <p>
              √â poss√≠vel redefenir o nome da vari√°vel que ter√° a refer√™ncia ao
              m√≥dulo utilizando a palavra-chave <code>as</code>:
            </p>

            <div class='ace-brython'>
              <script type='text/x.ace-brython'>
                import math as m

                angulo = m.pi / 6 # Isto √©, 30¬∞

                seno = m.sin(angulo)

                print(f'O seno de {angulo} √© {seno}')
              </script>
            </div>
          </div>
        </section>



        <section data-auto-animate>
          <h4>Exemplo: utilizando o m√≥dulo <code>math</code></h4>

          <div style='font-size: .9em;'>
            <p>
              √â poss√≠vel importar objetos do m√≥dulo diretamente:
            </p>

            <div class='ace-brython'>
              <script type='text/x.ace-brython'>
                from math import pi, sin

                angulo = pi / 6 # Isto √©, 30¬∞

                seno = sin(angulo)

                print(f'O seno de {angulo} √© {seno}')
              </script>
            </div>
          </div>
        </section>



        <section data-auto-animate>
          <h4>Exemplo: utilizando o m√≥dulo <code>math</code></h4>

          <div style='font-size: .9em;'>
            <p>
              ... e tamb√©m √© poss√≠vel renomear os objetos na importa√ß√£o:
            </p>

            <div class='ace-brython'>
              <script type='text/x.ace-brython'>
                from math import pi as banana, sin

                angulo = banana / 6 # Isto √©, 30¬∞

                seno = sin(angulo)

                print(f'O seno de {angulo} √© {seno}')
              </script>
            </div>
          </div>
        </section>



        <section data-auto-animate>
          <p style='font-size: .8em;'>N√≥s podemos criar nossos pr√≥prios m√≥dulos!</p>
        </section>
        <section data-auto-animate>
          <p style='font-size: .8em;'>N√≥s podemos criar nossos pr√≥prios m√≥dulos!</p>
          <div style='
                font-size: .6em;
                display: flex;
                flex-direction: column;
                gap: 2ex;
               '
           >
            <div style='flex: 1;'>
              Arquivo: <code>poligonos.py</code>
              <div class='ace-brython' data-components='code'>
                <script type='text/x.ace-brython'>
                  def retangulo(x, y, largura, altura):
                      return (
                          (x, y), (x, y + altura),
                          (x + largura, y + altura), (x + largura, y),
                      )

                  def quadrado(x, y, tamanho):
                      return retangulo(x, y, tamanho, tamanho)

                  def perimetro(pontos):
                      p = 0
                      prev = pontos[-1]
                      for ponto in pontos:
                          x, y = ponto
                          prev_x, prev_y = prev
                          dist = ((x - prev_x)**2 + (y - prev_y)**2)**.5
                          p += dist
                          prev = ponto
                      return p
                </script>
              </div>
            </div>
            <div>
              Arquivo: <code>main.py</code>
              <div class='ace-brython' data-components='code'>
                <script type='text/x.ace-brython'>
                  import poligonos

                  q = poligonos.quadrado(0, 0, 20)
                  print('q:', q)
                  print('per√≠metro de q:', poligonos.perimetro(q))

                  r = poligonos.retangulo(12, -50, 60, 20)
                  print('r:', r)
                  print('per√≠metro de r:', poligonos.perimetro(r))
                </script>
              </div>
            </div>
          </div>
        </section>


        <section data-auto-animate style='font-size: .8em;'>
          <p>Como Python encontra o m√≥dulo <code>poligonos</code>?</p>
        </section>
        <section data-auto-animate style='font-size: .8em'>
          <p>Como Python encontra o m√≥dulo <code>poligonos</code>?</p>

          <p style='margin-top: 1em;'>A resolu√ß√£o √© feita nesta ordem:</p>
          <ol>
            <li>
              Primeiro procura por um m√≥dulo <em>built-in</em> com o nome
              "pol√≠gono" (n√£o √© nosso caso);
            </li>
            <li>
              Depois ele procura por um arquivo nomeado "poligono.py" na lista
              de diret√≥rios definida em <code>sys.path</code>.
            </li>
          </ol>
        </section>
        <section data-auto-animate style='font-size: .8em'>
          <p>Como Python encontra o m√≥dulo <code>poligonos</code>?</p>

          <p>
            ...e Python inicializa a vari√°vel <code>sys.path</code> com o
            seguinte:
          </p>
          <ol>
            <li style='font-weight: bold;'>
              Diret√≥rio contendo o arquivo de entrada ("main.py" no nosso exemplo);
              <br/>
              <span class='fragment' data-fragment-index='0'>
                <strong>Por isso que o arquivo</strong> <code>poligonos.py</code>
                <strong>√© encontrado!</strong>
              </span>
            </li>
            <li class='fragment' data-fragment-index='1'>
              Caminhos presentes na vari√°vel de ambiente <code>PYTHONPATH</code>;
            </li>
            <li class='fragment' data-fragment-index='1'>
              Caminhos espec√≠ficos da instala√ß√£o utilizada.
            </li>
          </ol>
        </section>


        <section data-auto-animate>
          <p>M√£o na massa!</p>
        </section>
        <section data-auto-animate>
          <p style='opacity: .5'>M√£o na massa!</p>
          <p>
            Vamos trabalhar em um pequeno projeto onde iremos criar diferentes
            m√≥dulos!
          </p>
        </section>
        <section data-auto-animate>
          <p style='opacity: .5'>
            Vamos trabalhar em um pequeno projeto onde iremos criar diferentes
            m√≥dulos!
          </p>
          <p style='font-size: 1.2em;'>O jogo 2048!</p>
          <img
            data-src='images/screenshot-2048.png'
            alt='Screenshot do jogo 2048'
          />
        </section>



        <section data-auto-animate>
          <p>M√≥dulos do jogo:</p>

          <img
            src='images/game-2048-modules.svg'
            alt='Digrama de m√≥dulos'
          />
        </section>



        <section data-auto-animate data-reusable>
          <p>M√≥dulos do jogo:</p>

          <div style='display: flex; align-items: center; gap: 2ex;'>
            <img
              src='images/game-2048-modules.svg'
              alt='Digrama de m√≥dulos'
            />
            <div
              data-reusable-tag='description'
              style='
                text-align: left;
                font-size: .8em;
                flex: 1;
              '
            >
              <p>
                <code>game.py</code>: M√≥dulo respons√°vel por definir a l√≥gica do
                jogo.
              </p>

              <p>
              Ir√° prover fun√ß√µes em sua <strong>interface p√∫blica</strong>:
              </p>
              <ul style='font-size: .8em;'>
                <li>
                  <code>create_board(num_rows, num_columns)</code>: fun√ß√£o para
                  criar um objeto representando o tabuleiro.
                </li>
                <li>
                  <code>react(board, action)</code>: fun√ß√£o que deve retornar
                  um novo tabuleiro conforme a a√ß√£o do usu√°rio (esquerda,
                  direita, para cima, para baixo).
                </li>
              </ul>
            </div>
          </div>
        </section>



        <template data-reuse>
          <template data-tag='description'>
            <p>
              <code>tui_mode.py</code>: M√≥dulo respons√°vel por desenhar o
              tabuleiro e capturar a√ß√µes do usu√°rio no modo
              <strong>texto</strong>.
            </p>

            <p>
              <code>gui_mode.py</code>: M√≥dulo respons√°vel por desenhar o
              tabuleiro e capturar a√ß√µes do usu√°rio no modo
              <strong>gr√°fico</strong>.
            </p>

            <p>
            Cada um ir√° prover a seguinte fun√ß√£o:
            </p>
            <ul style='font-size: .8em;'>
              <li>
                <code>run()</code>: fun√ß√£o que ir√° iniciar o <em>loop</em> do
                jogo, onde repetidamente o tabuleiro √© desenhado e as a√ß√µes do
                usu√°rio s√£o capturadas. Esta fun√ß√£o ir√° chamar fun√ß√µes de
                <code>game.py</code> quando necess√°rio.
              </li>
            </ul>
          </template>
        </template>



        <template data-reuse>
          <template data-tag='description'>
            <p>
              <code>main.py</code>: M√≥dulo principal do programa. √â este
              arquivo que vamos utilizar para iniciar o jogo, invocando
              <code>python main.py</code>.
            </p>

            <p style='font-size: .8em;'>
              Este m√≥dulo ir√° perguntar ao usu√°rio qual modo prefere (texto
              ou gr√°fico) e ir√° chamar a fun√ß√£o <code>run()</code> do m√≥dulo
              correspondente.
            </p>
          </template>
        </template>



        <template data-reuse>
          <template data-tag='description'>
            <div style='text-align: center;'>
              <p>
                Bora trabalhar!
              </p>
              <img
                data-src='images/cat-programming.gif'
                alt='Gato programando'
              />
            </div>
          </template>
        </template>



        <section>
          <p>
            Legal! J√° possu√≠mos uma vers√£o funcional do jogo! üòÄ
          </p>
          <asciinema-player
              src='misc/game-2048.cast'
              autoplay
              loop
              rows='13'
              cols='52'
              font-size='.4em'
            ></asciinema-player>

          <p class='fragment'>
            Mas o jogo atualmente n√£o permite que o usu√°rio pause o jogo e
            <strong>continue de onde parou</strong> em uma nova chamada.
          </p>

          <div class='fragment local-standout-box' style='bottom: 2em;'>
            Iremos implementar isso atrav√©s de
            <strong>manipula√ß√£o de arquivos</strong>!
          </div>
        </section>



        <section>
          <h3>Manipula√ß√£o de Arquivos</h3>
        </section>



        <section data-auto-animate>
          <p data-auto-frag>
            Vari√°veis guardam valores de express√µes durante o programa.
          </p>
          <p data-auto-frag>
            E quando o programa termina?
          </p>
          <p data-auto-frag>
            Como armazenar resultados para serem utilizados posteriormente?
          </p>
          <p data-auto-frag>
            Escrevendo os resultados em um arquivo!
          </p>
          <p data-auto-frag>
            Como?
          </p>
        </section>



        <section data-auto-animate data-reusable>
          <p>
            Utilizando a fun√ß√£o built-in <code>open()</code>
          </p>
          <div data-id='open-call'>
              <div style='display: inline-block'>
                <code>f = open(caminho, modo)</code>
              </div>
          </div>
          <div
            data-reusable-tag='description'
            style='margin-top: 1em; font-size: .9em;'
          >
            <p class='fragment'>
              O retorno √© um objeto cujos m√©todos s√£o respons√°veis por ler e
              escrever em arquivos.
            </p>
          </div>
        </section>



        <section data-auto-animate data-reusable>
          <div data-id='open-call'>
              <div style='display: inline-block'>
                <code>f = open(<strong>caminho</strong>, modo)</code>
              </div>
          </div>
          <div
            data-reusable-tag='description'
            style='margin-top: 1em; font-size: .9em;'
          >
            <p>
              <code>caminho</code>: o caminho do arquivo a ser aberto
            </p>
            <p>
              Se o caminho for relativo, o <strong>current working
                directory</strong> ser√° utilizado como base para resolu√ß√£o.
            </p>
            <p>
              Pode ser um <code>str</code> ou um objeto to tipo
              <code>pathlib.Path</code>.
            </p>
            <div class='fragment local-standout-box' style='margin-top: 2em'>
              O que √© um caminho?
            </div>
          </div>
        </section>


        <template data-reuse>
          <template data-tag='description'>
            <p>
              Um <strong>caminho</strong> √© uma sequ√™ncia de nomes que
              representam o "endere√ßo" de um arquivo em um sistema operacional.
            </p>

            <p>
              Os nomes que aparecem antes do nome final geralmente s√£o nomes de
              diret√≥rios.
            </p>

            <p>
              O √∫ltimo nome na sequ√™ncia √© o nome do arquivo ou diret√≥rio
              referenciado.
            </p>
          </template>
        </template>



        <template data-reuse>
          <template data-tag='description'>
            <p>
              Exemplo: Caminho <strong>absoluto</strong> de um arquivo chamado
              "Minhas Anota√ß√µes.txt" do usu√°rio Jonas em um sistema UNIX (e.g.
              Linux):
            </p>
            <p>
              <code>/home/Jonas/Minhas Anota√ß√µes.txt</code>
            </p>

            <p>
              Note que "/" √© usado como separador.
            </p>
            <p class='fragment'>
              Um caminho <strong>absoluto</strong> se inicia a partir do
              diret√≥rio raiz (o primeiro '/').
            </p>
          </template>
        </template>



        <template data-reuse>
          <template data-tag='description'>
            <p>
              Exemplo: Caminho absoluto de um arquivo chamado "Minhas
              Anota√ß√µes.txt" do usu√°rio Jonas em um sistema Windows:
            </p>
            <p>
              <code>C:\Users\Jonas\Minhas Anota√ß√µes.txt</code>
            </p>

            <p>
              Note que "\" √© usado como separador.
            </p>
          </template>
        </template>



        <template data-reuse>
          <template data-tag='description'>
            <p>
              Exemplo: Caminho <strong>relativo</strong> de um arquivo chamado
              "todo-list.txt" dentro de um diret√≥rio chamado "notes":
            </p>
            <p>
              <code>notes/todo-list.txt</code>
            </p>

            <p>
              Um caminho relativo n√£o se inicia com o diret√≥rio raiz. Ele deve
              ser resolvido de acordo com um diret√≥rio base. <em>A fun√ß√£o
              <code>open()</code> utiliza o current working directory como
              base.
              </em>
            </p>
          </template>
        </template>


        <template data-reuse>
          <template data-tag='description'>
            <p>
              Nomes especiais:
            </p>

            <p>
              <code>..</code>: representa o diret√≥rio "pai" (ou anterior) do
              nome atual.
            </p>

            <div class='fragment' style='margin-top: 1em;'>
              <p>
                <code>../notes/todo-list.txt</code>
              </p>

              <p>
                Estamos dizendo que o diret√≥rio <code>notes</code> est√° dentro do
                pai do diret√≥rio atual.
              </p>
            </div>
          </template>
        </template>



        <template data-reuse>
          <template data-tag='description'>
            <p>
              Nomes especiais:
            </p>

            <p>
              <code>.</code>: representa o diret√≥rio atual.
            </p>

            <div class='fragment' style='margin-top: 1em;'>
              <p>
                <code>./notes/todo-list.txt</code>
              </p>

              <p>
                Isso √© equivalente a <code>notes/todo-list.txt</code>. Pode ser
                √∫til em ocasi√µes especiais.
              </p>
            </div>
          </template>
        </template>



        <template data-reuse>
          <template data-tag='description'>
            <p>
              <strong>Recomenda√ß√£o importante</strong>: Utilize
              <code>os.path.join</code> ou <code>pathlib</code> para montar
              caminhos!
            </p>

            <div style='font-size: .9em;'>
              No Linux:
              <div class='python-repl'><!--
              >>> import os.path
              >>> caminho = os.path.join('notes', 'todo-list.txt')
              >>> print(caminho)
              notes/todo-list.txt
              --></div>

              <br/>

              No Windows:
              <div class='python-repl'><!--
              >>> import os.path
              >>> caminho = os.path.join('notes', 'todo-list.txt')
              >>> print(caminho)
              notes\todo-list.txt
              --></div>
            </div>
          </template>
          <template data-append>
            <div class='fragment local-standout-box' style='bottom: 1em;'>
              Isso deixa seu c√≥digo mais <strong>port√°vel</strong>!
            </div>
          </template>
        </template>



        <section data-auto-animate data-reusable>
          <div data-id='open-call'>
              <div style='display: inline-block'>
                <code>f = open(caminho, <strong>modo</strong>)</code>
              </div>
          </div>
          <div
            data-reusable-tag='description'
            style='margin-top: 1em; font-size: .9em;'
          >
            <p>
              <code>modo</code>: o modo de abertura
            </p>
            <p>
             √â uma string contendo combina√ß√£o de caracteres para definir o modo
             de abertura.
            </p>
          </div>
        </section>



        <template data-reuse>
          <template data-tag='description'>
            <p>
              <code>modo</code> - Configurando <strong>Escrita/Leitura</strong>:
            </p>
            <p>
              <code>r</code>(padr√£o): abre para leitura, falha se o arquivo
              n√£o existir.
            </p>
            <p>
              <code>w</code>: abre para escrita, trunca o arquivo se o mesmo
              existir.
            </p>
            <p>
              <code>w+</code>: abre para leitura e escrita, e trunca o arquivo
              original.
            </p>
            <p>
              <code>w+</code>: abre para leitura e escrita, e n√£o trunca o
              arquivo original.
            </p>
          </template>
        </template>



        <template data-reuse>
          <template data-tag='description'>
            <p>
              <code>modo</code> - Configurando <strong>Escrita/Leitura</strong>:
            </p>
            <p>
              <code>a</code>: adicionar conte√∫do ao final do arquivo, cria o
              arquivo se o mesmo n√£o existir.
            </p>
            <p>
              <code>a+</code>: mesmo que <code>a</code>, mas tamb√©m permite
              leitura do arquivo.
            </p>
            <p>
              <code>x</code>: abrir para escrita e cria√ß√£o exclusiva, falhando
              se o arquivo existir.
            </p>
            <p>
              <code>x+</code>: mesmo que <code>x</code>, mas tamb√©m permite
              leitura do arquivo.
            </p>
          </template>
        </template>



        <template data-reuse>
          <template data-tag='description'>
            <p>
              <code>modo</code> - Escolhendo formato <strong>Texto ou Bin√°rio</strong>
            </p>
            <p>
              <code>t</code>(padr√£o): abre em formato texto.
            </p>
            <p>
              <code>b</code>: abre em formato bin√°rio.
            </p>
          </template>
        </template>



        <section data-auto-animate>
          <p>
            Agora que aprendemos sobre a fun√ß√£o <code>open()</code>, vamos ver
            como escrever conte√∫dos em arquivo.
          </p>
        </section>



        <section data-auto-animate>
          <p>
            Agora que aprendemos sobre a fun√ß√£o <code>open()</code>, vamos ver
            como escrever conte√∫dos em arquivo.
          </p>
          <div class='ace-brython' data-components='code'
               style='font-size: .8em;'
          >
            <script type='text/x.ace-brython'>
              arq1 = open('res.txt', 'w')

              # Escrever em arquivo os n√∫meros de 0 a 9
              for i in range(10):
                  arq1.write(str(i))

              arq1.close() # Muito importante fechar o arquivo depois de usado
            </script>
          </div>
        </section>


        <section data-auto-animate>
          <p>
            Agora vamos ler o que acabamos de escrever.
          </p>
          <div class='ace-brython' data-components='code'
               style='font-size: .8em;'
          >
            <script type='text/x.ace-brython'>
              arq2 = open('res.txt', 'r')

              # Ler o conte√∫do do arquivo escrito anteriormente
              conteudo = arq2.read()
              print(conteudo)

              arq2.close()
            </script>
          </div>
          <div class='fragment local-standout-box'>
            Estranho, n√£o?
          </div>
        </section>



        <section data-auto-animate>
          <p>
            Isso porque esquecemos de colocar a quebra de linha.
            Reescrevendo o c√≥digo de escrita temos:
          </p>
          <div class='ace-brython' data-components='code'
               style='font-size: .8em;'
          >
            <script type='text/x.ace-brython'>
              arq3 = open('res2.txt', 'w')

              # Escrever em arquivo os n√∫meros de 0 a 9
              for i in range(10):
                arq1.write(str(i)+'\n')

              arq3.close()
            </script>
          </div>
        </section>



        <section data-auto-animate>
          <p>
            Podemos tamb√©m utilizar a fun√ß√£o <code>print()</code> (e suas
            conveni√™ncias):
          </p>
          <div class='ace-brython' data-components='code'
               style='font-size: .8em;'
          >
            <script type='text/x.ace-brython'>
              arq3 = open('res2.txt', 'w')

              # Escrever em arquivo os n√∫meros de 0 a 9
              for i in range(10):
                  print(i, file=arq3)

              arq3.close()
            </script>
          </div>
        </section>



        <section data-auto-animate>
          <p>
            Lendo o arquivo que acabamos de escrever:
          </p>
          <div class='ace-brython' data-components='code'
               style='font-size: .8em;'
          >
            <script type='text/x.ace-brython'>
              arq4 = open('res2.txt', 'r')
              # Ler o conte√∫do do arquivo reescrito
              conteudo = arq4.read()
              print(conteudo)
              arq4.close()
            </script>
          </div>
        </section>



        <section data-auto-animate>
          <p>
            Podemos ler <strong>linha a linha</strong> para economizarmos o uso
            de mem√≥ria:
          </p>
          <div class='ace-brython' data-components='code'
               style='font-size: .8em;'
          >
            <script type='text/x.ace-brython'>
              arq5 = open('res2.txt', 'r')
              # Ler o conte√∫do do arquivo uma linha por vez
              for linha in arq5:
                print(linha)
              arq5.close()
            </script>
          </div>
        </section>



        <section data-auto-animate>
          <p>
            Utilizando palavra-chave <code>with</code> para que o arquivo seja
            <strong>fechado automaticamente</strong>:
          </p>
          <div class='ace-brython' data-components='code'
               style='font-size: .8em;'
          >
            <script type='text/x.ace-brython'>
              with open('res2.txt', 'r') as arq6:
                  for linha in arq5:
                      print(linha)
            </script>
          </div>
        </section>



        <section data-auto-animate>
          <h3>
            Para casa:
          </h3>
          <ul style='font-size: .9em'>
            <li>Aprender mais sobre a fun√ß√£o <code>open()</code> e manipula√ß√£o
              de arquivos em:
              <ul>
                <li>
                  <a
                    href='https://docs.python.org/3/library/functions.html#open'
                    target='_blank'
                  >
                    https://docs.python.org/3/library/functions.html#open
                  </a>
                </li>
                <li>
                  <a
                    href='https://docs.python.org/3/tutorial/inputoutput.html#tut-files'
                    target='_blank'
                  >
                    https://docs.python.org/3/tutorial/inputoutput.html#tut-files
                  </a>
                </li>
              </ul>
            </li>
            <li>
              Aprender a manipular arquivos utilizando <code>pathlib</code>:
              <a
                href='https://docs.python.org/3/library/pathlib.html'
                target='_blank'
              >
                https://docs.python.org/3/library/pathlib.html
              </a>
            </li>
          </ul>
        </section>


        <section data-auto-animate>
          <p data-auto-frag>
            E agora...
          </p>
          <p data-auto-frag>
            Vamos adicionar persist√™ncia de dados no nosso jogo!
          </p>
          <p data-auto-frag>
            Deixar o estado do jogo 2048 salvo em arquivo para permitir
            continu√°-lo em uma nova execu√ß√£o.
          </p>
        </section>


        <section>
          <p>Essa √© nossa √∫ltima aula...</p>
          <img data-src='images/sad-goodby.gif' alt='Triste adeus' />
        </section>



        <section data-auto-animate>
          <p class='r-fit-text' data-auto-frag>
            That's
            <span style='
                transform: rotate(-20deg) translateY(-.6ex);
                display: inline-block;
                position: absolute;
                color: #df1e1e;
                font-family: "Give You Glory", cursive;
                text-shadow: -2px -2px 2px #0004;
                '
            >not</span>
            &nbsp;
            all folks!
          </p>
          <p data-auto-frag>H√° muita coisa para se aprender sobre Python!</p>
          <div data-auto-frag>
            <p>Recomenda√ß√µes:</p>
            <ul>
              <li>
                Automate the Boring Stuff with Python, por Al Sweigart:
                <a
                  href='https://automatetheboringstuff.com/'
                  target='_blank'
                >https://automatetheboringstuff.com/</a>
              </li>
              <li>
                The Python Tutorial
                <a
                  href='https://docs.python.org/3/tutorial/'
                  target='_blank'
                >https://docs.python.org/3/tutorial/</a>
              </li>
            </ul>
          </div>
        </section>



        <section>
          <div class='r-fit-text'>Obrigado!</div>
        </section>
      </div>
    </div>

    <script src="../revealjs/dist/reveal.js"></script>
    <script src="../revealjs/plugin/notes/notes.js"></script>
    <script src="../revealjs/plugin/markdown/markdown.js"></script>
    <script src="../revealjs/plugin/highlight/highlight.js"></script>
    <script src="../revealjs-ace-brython/dist/main.js"></script>
    <script src="../asciinema/asciinema-player.js"></script>
    <script type='module' src="main.js"></script>
  </body>
</html>
